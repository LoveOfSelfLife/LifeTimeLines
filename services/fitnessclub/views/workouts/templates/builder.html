
<div class="container-fluid">
  <div class="row">
    <!-- Library sidebar (md+) -->
    <div class="col-md-4 d-none d-md-block border-end vh-100 overflow-auto">
      <h4 class="mt-3">Exercise Library</h4>
      <div id="lib-list"
           hx-get="{{ url_for('workouts.exercise_listing', workout_id=workout.id, target='lib-list') }}"
           hx-trigger="load"
           hx-swap="innerHTML">
        Loading…
      </div>
      <button class="btn btn-sm btn-outline-secondary mt-3"
              data-bs-toggle="offcanvas"
              data-bs-target="#libDrawer">
        Filter/Search
      </button>
    </div>

    <!-- Offcanvas for mobile library -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="libDrawer">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title">Library</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
      </div>
      <div class="offcanvas-body">
        <div id="lib-list-mobile"
             hx-get="{{ url_for('workouts.exercise_listing', workout_id=workout.id, target='lib-list-mobile') }}"
             hx-trigger="load"
             hx-swap="innerHTML">
          Loading…
        </div>
      </div>
    </div>
      <!-- Workout canvas -->
      <div class="col-md-8 vh-100 overflow-auto">

        <div class="d-flex justify-content-between align-items-center mt-3 mb-2">

            {# turn this static h2 into an input field that a user can enter or modify the workout name #}
            {# <form hx-post="{{ url_for('workouts.update_workout_name', workout_id=workout.id) }}"
                  hx-target="#canvas"
                  hx-swap="innerHTML"> #}
              <input type="text" name="name" class="form-control form-control-sm"
                     value="{{ workout.name }}" placeholder="Workout Name"
                     hx-trigger="change delay:500ms, focusout"
                     hx-post="{{ url_for('workouts.update_workout_name', workout_id=workout.id) }}"
                     hx-swap="none">
            {# </form> #}
            {# <h2>{{ workout.name }}</h2> #}
            <button class="btn btn-primary d-md-none"
                    data-bs-toggle="offcanvas"
                    data-bs-target="#libDrawer">
              + Add Exercise
            </button>
          <button class="btn btn-sm btn-success mt-auto"
                  hx-post="{{ url_for('workouts.save_workout', workout_id=workout.id) }}"
                  hx-vals='{"workuot_id":"{{ workout.id }}"}'
                  hx-target="#content"
                  hx-swap="innerHTML">
              Save
            </button>

        </div>
        <div id="canvas"
            hx-get="{{ url_for('workouts.workout_canvas', workout_id=workout.id) }}"
            hx-trigger="load"
            hx-swap="innerHTML">
          Loading…
        </div>

      </div>
    </form>
  </div>
</div>
